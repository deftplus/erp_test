#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда
	
	
Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	Если ТипЗнч(ДанныеЗаполнения) =	Тип("СправочникСсылка.ЗакупочныеПроцедуры") Тогда
		ЗакупочнаяПроцедура = ДанныеЗаполнения;
		АккредитованныеПоставщики = 
			АккредитацияПоставщиковУХ.ПолучитьАккредитованныхПоставщиковЗакупки(ЗакупочнаяПроцедура);
		Поставщики.Загрузить(АккредитованныеПоставщики);
	ИначеЕсли ТипЗнч(ДанныеЗаполнения) = Тип(Тип("Структура")) Тогда	
		ПустаяЗакупка = Справочники.ЗакупочныеПроцедуры.ПустаяСсылка();
		ЗакупочнаяПроцедура = ОбщегоНазначенияКлиентСервер.СвойствоСтруктуры(ДанныеЗаполнения, "Закупка", ПустаяЗакупка);
		МассивУчастников = ОбщегоНазначенияКлиентСервер.СвойствоСтруктуры(ДанныеЗаполнения, "Участники", Новый Массив);
		Для Каждого ТекМассивУчастников Из МассивУчастников Цикл
			НоваяСтрока = Поставщики.Добавить();
			НоваяСтрока.АнкетаПоставщика			 = ТекМассивУчастников;
			НоваяСтрока.АдресЭП						 = ТекМассивУчастников.АдресЭП;
		КонецЦикла;	
	Иначе
		// Неизвестный вариант. Пропускаем.
	КонецЕсли;
	Если ЗначениеЗаполнено(ЗакупочнаяПроцедура) Тогда
		Если ЕстьУжеВведенноеОповещение() Тогда
			ВызватьИсключение НСтр("ru = 'Уже было создано оповещение для данной закупки!'");
		КонецЕсли;
	Иначе
		ТекстИсключения = НСтр("ru = 'Оповещение аккредитованных поставщиков должно создаваться на основании закупочной процедуры!'");
		ВызватьИсключение ТекстИсключения;
	КонецЕсли;
	Если НЕ ЗначениеЗаполнено(Ответственный) Тогда
		Ответственный = Пользователи.ТекущийПользователь();
	КонецЕсли;
КонецПроцедуры

Функция ЕстьУжеВведенноеОповещение()
	АналогичныйДокумент = 
		Документы.ОповещениеАккредитованныхПоставщиковОТоргах.ПолучитьАналогичныйДокумент(
			ЭтотОбъект);
	Возврат ЗначениеЗаполнено(АналогичныйДокумент);
КонецФункции

#КонецЕсли

