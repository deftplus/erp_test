#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Объект.ТолькоПоТабличнымЧастям Тогда
		ПоТабличнымЧастям = 1;
	Иначе
		ПоТабличнымЧастям = 0;
	КонецЕсли;

	
	Если ЗначениеЗаполнено(Объект.ПравилоЗаполнения) Тогда
		
		ТипБД=Объект.ПравилоЗаполнения.ТипБД;	
		Элементы.ГруппаПравилоИмпорта.Видимость=Истина;
		
	Иначе
		
		Элементы.ГруппаПравилоИмпорта.Видимость=Ложь;
		
	КонецЕсли;
	
КонецПроцедуры

&НаСервере
Процедура ПриЧтенииНаСервере(ТекущийОбъект)
	
	// СтандартныеПодсистемы.УправлениеДоступом
	Если ОбщегоНазначения.ПодсистемаСуществует("СтандартныеПодсистемы.УправлениеДоступом") Тогда
		МодульУправлениеДоступом = ОбщегоНазначения.ОбщийМодуль("УправлениеДоступом");
		МодульУправлениеДоступом.ПриЧтенииНаСервере(ЭтотОбъект, ТекущийОбъект);
	КонецЕсли;
	// Конец СтандартныеПодсистемы.УправлениеДоступом
	
КонецПроцедуры

&НаСервере
Процедура ПослеЗаписиНаСервере(ТекущийОбъект, ПараметрыЗаписи)
	
	// СтандартныеПодсистемы.УправлениеДоступом
	УправлениеДоступом.ПослеЗаписиНаСервере(ЭтотОбъект, ТекущийОбъект, ПараметрыЗаписи);
	// Конец СтандартныеПодсистемы.УправлениеДоступом
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы

&НаКлиенте
Процедура ПравилоИмпортаПриИзменении(Элемент)
	
	ТипБД = ОпределитьТипБД(Объект.ПравилоЗаполнения);
	
КонецПроцедуры

&НаКлиенте
Процедура ПередЗаписью(Отказ, ПараметрыЗаписи)
	
	Объект.ТолькоПоТабличнымЧастям=(ПоТабличнымЧастям=1);
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормы_ИмяТаблицыФормы

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ОбновитьОстаткиВзаиморасчетов(Команда)
	
	ОбновитьДанные();
	
КонецПроцедуры


#КонецОбласти

#Область СлужебныеПроцедурыИФункции
&НаСервере
Процедура ОбновитьДанные()
	
	РабочийОбъект=РеквизитФормыВЗначение("Объект");
	РабочийОбъект.ОбновитьТаблицыДокумента();
	ЗначениеВРеквизитФормы(РабочийОбъект,"Объект");
	
КонецПроцедуры // ОбновитьДанные() 

&НаСервереБезКонтекста
Функция ОпределитьТипБД(ПравилоЗаполнения)
	
	Возврат ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ПравилоЗаполнения, "ТипБД");
	
КонецФункции // ОпределитьТипБД() 

#КонецОбласти
