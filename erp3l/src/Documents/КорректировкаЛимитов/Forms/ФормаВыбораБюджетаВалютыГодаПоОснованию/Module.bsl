
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Основание = Параметры.Основание;
	ДокументОбеспечения = Параметры.ДокументОбеспечения;
	
	Если ЗначениеЗаполнено(Основание) Тогда
		Менеджер = Документы.КорректировкаЛимитов;
		ДанныеОснования.Загрузить(Менеджер.ПолучитьВидБюджетаВалютуГодПоОснованию(Основание, ДокументОбеспечения));
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура СписокВыборЗначения(Элемент, Значение, СтандартнаяОбработка)
	ВыполнитьВыбор(Значение);
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормыСписок

&НаКлиенте
Процедура СписокВыбор(Элемент, ВыбраннаяСтрока, Поле, СтандартнаяОбработка)
	ВыполнитьВыбор(ВыбраннаяСтрока);
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаКлиенте
Процедура ВыполнитьВыбор(ИдентификаторСтроки)
	
	Строка = ДанныеОснования.НайтиПоИдентификатору(ИдентификаторСтроки);
	Если Строка = неопределено Тогда
		Возврат;
	КонецЕсли;
	
	Результат = Новый Структура("ВидБюджета, Валюта, ГодЛимитирования");
	ЗаполнитьЗначенияСвойств(Результат, Строка);
	
	Закрыть(Результат);
КонецПроцедуры

#КонецОбласти
