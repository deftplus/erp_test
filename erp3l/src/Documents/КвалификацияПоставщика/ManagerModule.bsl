#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

	
// Для контроля дублирования документов с одинаковыми
// ключевыми полями.
//
Функция ПолучитьАналогичныйДокумент(ДокументОбъект) Экспорт
	Если ЗначениеЗаполнено(ДокументОбъект.Ссылка) Тогда
		ИсключитьСсылку = ДокументОбъект.Ссылка;
	Иначе
		ИсключитьСсылку = Неопределено;
	КонецЕсли;
	мДокументов =
		ЦентрализованныеЗакупкиУХ.ПолучитьДокументыПоОтбору(
			"КвалификацияПоставщика",
			Новый Структура(
				"АнкетаПоставщика, ЗакупочнаяПроцедура, Организация, ПометкаУдаления",
				ДокументОбъект.АнкетаПоставщика,
				ДокументОбъект.ЗакупочнаяПроцедура,
				ДокументОбъект.Организация,
				Ложь),
			ИсключитьСсылку);
	Если мДокументов.Количество() = 0 Тогда
		Возврат Документы.КвалификацияПоставщика.ПустаяСсылка();
	КонецЕсли;
	Возврат мДокументов[0];
КонецФункции

// СтандартныеПодсистемы.УправлениеДоступом

// См. УправлениеДоступомПереопределяемый.ПриЗаполненииСписковСОграничениемДоступа.
Процедура ПриЗаполненииОграниченияДоступа(Ограничение) Экспорт

	Ограничение.Текст =
	"ПрисоединитьДополнительныеТаблицы
	|ЭтотСписок КАК ЭтотСписок
	|
	|ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ВнешниеПользователи КАК СпрВнешПользователи 
	|    ПО СпрВнешПользователи.ОбъектАвторизации = ЭтотСписок.АнкетаПоставщика 
	|;
	|РазрешитьЧтениеИзменение
	|ГДЕ
	|    ЗначениеРазрешено(СпрВнешПользователи.Ссылка)";
	
	Ограничение.ТекстДляВнешнихПользователей = Ограничение.Текст;
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.УправлениеДоступом

#КонецЕсли