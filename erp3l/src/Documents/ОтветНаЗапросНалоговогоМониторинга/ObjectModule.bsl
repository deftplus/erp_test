#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

// Осуществляет заполнение текущего документа по данным документа Запрос данных
// налогового мониторинга ЗапросДанныхВход.
Процедура ЗаполнитьПоЗапросуДанныхНалоговогоМониторинга(ЗапросДанныхВход)
	Основание = ЗапросДанныхВход;
	ПереченьДокументов.Очистить();
	Для Каждого ТекСтрокаПереченьДокументов Из ЗапросДанныхВход.ПереченьДокументов Цикл
		НоваяСтрока = ПереченьДокументов.Добавить();
		НоваяСтрока.Документ = ТекСтрокаПереченьДокументов.Документ;
	КонецЦикла;
КонецПроцедуры		// ЗаполнитьПоЗапросуДанныхНалоговогоМониторинга()

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, СтандартнаяОбработка)
	Если ТипЗнч(ДанныеЗаполнения) = Тип("ДокументСсылка.ЗапросДанныхНалоговогоМониторинга") Тогда
		// Заполнение по документу Запрос данных налогового мониторинга.
		Основание = ДанныеЗаполнения;
	ИначеЕсли ТипЗнч(ДанныеЗаполнения) = Тип("Структура") Тогда	
		// Заполнение по произвольной структуре.
		ДокументОснование = ОбщегоНазначенияКлиентСервер.СвойствоСтруктуры(ДанныеЗаполнения, "Основание", Неопределено);
		Если ТипЗнч(ДокументОснование) = Тип("ДокументСсылка.ЗапросДанныхНалоговогоМониторинга") Тогда
			Основание = ДокументОснование;
		Иначе
			// Неизвестный вариант. Пропускаем заполнение.
		КонецЕсли;
	КонецЕсли;
	// Заполнение по основанию.
	Если ЗначениеЗаполнено(Основание) Тогда
		ЗаполнитьПоЗапросуДанныхНалоговогоМониторинга(Основание);
	Иначе
		// Основание не задано. Пропускаем.  
	КонецЕсли;
	
	Ответственный = ПараметрыСеанса.ТекущийПользователь;
	
КонецПроцедуры

#КонецЕсли