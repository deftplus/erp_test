
&НаКлиенте
Процедура ВыполнитьРаспределение(Команда)
	
	Закрыть(Новый Структура("МетодРаспределения,УточнениеМетодаРаспределения",МетодРаспределения,УточнениеМетодаРаспределения));
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	МетодРаспределения = Перечисления.МетодыОбратногоРаспределения.Равномерно;
	УстановитьВидимость();
	
КонецПроцедуры

&НаСервере
Процедура УстановитьВидимость()
	
		Элементы.УточнениеМетодаРаспределения.Видимость=Ложь;
		
		Если МетодРаспределения=Перечисления.МетодыОбратногоРаспределения.ПоПоказателю Тогда
			
			Элементы.УточнениеМетодаРаспределения.ОграничениеТипа=ОбщегоНазначенияУХ.ПолучитьОписаниеТиповСсылка("СправочникСсылка.ПоказателиОтчетов");
			Элементы.УточнениеМетодаРаспределения.Видимость=Истина;
			Элементы.УточнениеМетодаРаспределения.Заголовок="Показатель";
			
			НовыйПараметр = Новый ПараметрВыбора("Отбор.ТипЗначения", Перечисления.ТипыЗначенийПоказателейОтчетов.Число);
			НовыйМассив = Новый Массив();
			НовыйМассив.Добавить(НовыйПараметр);				
			НовыеПараметры = Новый ФиксированныйМассив(НовыйМассив);
			Элементы.УточнениеМетодаРаспределения.ПараметрыВыбора=НовыеПараметры;
			
		ИначеЕсли МетодРаспределения=Перечисления.МетодыОбратногоРаспределения.ПоСценарию Тогда
			
			Элементы.УточнениеМетодаРаспределения.ОграничениеТипа=ОбщегоНазначенияУХ.ПолучитьОписаниеТиповСсылка("СправочникСсылка.Сценарии");
			
			НовыйПараметр = Новый ПараметрВыбора("Отбор.СценарийРаспределения", Истина);
			НовыйМассив = Новый Массив();
			НовыйМассив.Добавить(НовыйПараметр);				
			НовыеПараметры = Новый ФиксированныйМассив(НовыйМассив);
			Элементы.УточнениеМетодаРаспределения.ПараметрыВыбора=НовыеПараметры;
			
			Элементы.УточнениеМетодаРаспределения.Видимость=Истина;
			Элементы.УточнениеМетодаРаспределения.Заголовок="Сценарий";
			
		КонецЕсли;				
	
КонецПроцедуры // УстановитьВидимость() 

&НаКлиенте
Процедура МетодРаспределенияПриИзменении(Элемент)
	
	УстановитьВидимость();
	
КонецПроцедуры
