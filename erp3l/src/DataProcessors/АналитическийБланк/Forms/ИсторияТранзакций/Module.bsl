
&НаКлиенте
Процедура Применить(Команда)
	
	МассивВыделенныхТранзакций = Новый Массив();
	
	Для Каждого Стр Из Элементы.Транзакции.ВыделенныеСтроки Цикл	
		тСтрока = Транзакции.НайтиПоИдентификатору(Стр);
		МассивВыделенныхТранзакций.Добавить(тСтрока.НомерТранзакции);	
	КонецЦикла;
	
	Закрыть(МассивВыделенныхТранзакций);
		
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если ЗначениеЗаполнено(Параметры.АдресТранзакцийОтменить) Тогда
		 Транзакции.Загрузить(ПолучитьИзВременногоХранилища(Параметры.АдресТранзакцийОтменить));
		 Транзакции.Сортировать("НомерТранзакции УБЫВ");
	 КонецЕсли;	

	Если ЗначениеЗаполнено(Параметры.АдресТранзакцийПовторить) Тогда
		 ТранзакцииПовторить.Загрузить(ПолучитьИзВременногоХранилища(Параметры.АдресТранзакцийПовторить));
	КонецЕсли;	
		
КонецПроцедуры

&НаКлиенте
Процедура ТранзакцииПриАктивизацииСтроки(Элемент)
	
	ИнтервалОжидания =  0.1;
	ПодключитьОбработчикОжидания("Подключаемый_РезультатПриАктивизацииОбластиПодключаемый", ИнтервалОжидания, Истина);
		 
КонецПроцедуры

&НаКлиенте
Процедура Подключаемый_РезультатПриАктивизацииОбластиПодключаемый()
	
	Элементы.Транзакции.ВыделенныеСтроки.Очистить();
	
	Для Каждого Стр Из Транзакции Цикл
		Элементы.Транзакции.ВыделенныеСтроки.Добавить(Стр.ПолучитьИдентификатор());
		Если Стр.ПолучитьИдентификатор() = Элементы.Транзакции.ТекущаяСтрока Тогда
			 Прервать;
		КонецЕсли;	
	КонецЦикла;	

		
	ОтключитьОбработчикОжидания("Подключаемый_РезультатПриАктивизацииОбластиПодключаемый");
	
КонецПроцедуры
