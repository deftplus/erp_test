
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	
	Если ЭтоРамочноеСоглашение(ПараметрКоманды) Тогда
		
		ЗначенияЗаполнения = Новый Структура("БазовыйДоговор", ПараметрКоманды);
		ПараметрыФормы = Новый Структура("ЗначенияЗаполнения", ЗначенияЗаполнения);
		ОткрытьФорму("Справочник.ДоговорыКонтрагентов.ФормаОбъекта", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	Иначе
		ПоказатьПредупреждение(,НСтр("ru = 'Невозможно создать спецификацию к выбранному договору. Необходимо выбрать договор с видом соглашения ""Рамочный договор""'"));
	КонецЕсли;	
КонецПроцедуры

&НаСервере
Функция ЭтоРамочноеСоглашение(ДоговорКонтрагента)
	
	ВидСоглашения = ОбщегоНазначения.ЗначениеРеквизитаОбъекта(ДоговорКонтрагента, "ВидСоглашения");
	Возврат (ВидСоглашения = Перечисления.ВидыСоглашений.РамочныйДоговор);
	
КонецФункции