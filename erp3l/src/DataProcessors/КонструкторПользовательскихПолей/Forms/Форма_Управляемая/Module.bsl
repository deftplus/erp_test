
&НаКлиенте
Процедура ДобавитьАВСКлассификацию(Команда)
	
	Результат = Неопределено;

	
	ОткрытьФорму("Обработка.КонструкторПользовательскихПолей.Форма.ФормаABCКлассификация_Управляемая", Новый Структура("КомпоновщикНастроек", КомпоновщикНастроек),,,,, Новый ОписаниеОповещения("ДобавитьАВСКлассификациюЗавершение", ЭтотОбъект), РежимОткрытияОкнаФормы.БлокироватьВесьИнтерфейс);
	
КонецПроцедуры

&НаКлиенте
Процедура ДобавитьАВСКлассификациюЗавершение(Результат1, ДополнительныеПараметры) Экспорт
    
    Результат = Результат1;
    
    Если Результат <> Неопределено Тогда
        КомпоновщикНастроек = Результат;
    КонецЕсли;

КонецПроцедуры

&НаКлиенте
Процедура ДобавитьФормулу(Команда)
	
	Результат = Неопределено;

	
	ОткрытьФорму("Обработка.КонструкторПользовательскихПолей.Форма.ФормаФормула_Управляемая", Новый Структура("КомпоновщикНастроек", КомпоновщикНастроек),,,,, Новый ОписаниеОповещения("ДобавитьФормулуЗавершение", ЭтотОбъект), РежимОткрытияОкнаФормы.БлокироватьВесьИнтерфейс);
	
КонецПроцедуры

&НаКлиенте
Процедура ДобавитьФормулуЗавершение(Результат1, ДополнительныеПараметры) Экспорт
    
    Результат = Результат1;
    
    Если Результат <> Неопределено Тогда
        КомпоновщикНастроек = Результат;
    КонецЕсли;

КонецПроцедуры


&НаКлиенте
Процедура КомпоновщикНастроекНастройкиПользовательскиеПоляПередНачаломИзменения(Элемент, Отказ)
	
	Отказ = Истина;
	РедактироватьПользовательскоеПоле(Элементы.КомпоновщикНастроекНастройкиПользовательскиеПоля.ТекущаяСтрока);
	
КонецПроцедуры

&НаКлиенте
Процедура РедактироватьПользовательскоеПоле(ИдентификаторПоля)
	
	Поле = КомпоновщикНастроек.Настройки.ПользовательскиеПоля.ПолучитьОбъектПоИдентификатору(ИдентификаторПоля);
	Если Поле = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ИмяФормыРедактирования  = ТиповыеОтчетыУХ.ПолучитьИмяФормыРедактированияПользовательскогоПоля(Поле);
	
	Если ИмяФормыРедактирования = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	РезультатОткрытия = Неопределено;

	
	ОткрытьФорму("Обработка.КонструкторПользовательскихПолей.Форма." + ИмяФормыРедактирования + "_Управляемая", Новый Структура("КомпоновщикНастроек, ИдентификаторПоля", КомпоновщикНастроек, ИдентификаторПоля),,,,, Новый ОписаниеОповещения("РедактироватьПользовательскоеПолеЗавершение", ЭтотОбъект), РежимОткрытияОкнаФормы.БлокироватьВесьИнтерфейс);
 
КонецПроцедуры

&НаКлиенте
Процедура РедактироватьПользовательскоеПолеЗавершение(Результат, ДополнительныеПараметры) Экспорт
    
    РезультатОткрытия = Результат;
    
    Если РезультатОткрытия <> Неопределено Тогда
        КомпоновщикНастроек = РезультатОткрытия;
    КонецЕсли;

КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Параметры.Свойство("КомпоновщикНастроек", КомпоновщикНастроек);
	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОК(Команда)
	
	Закрыть(КомпоновщикНастроек);
	
КонецПроцедуры
