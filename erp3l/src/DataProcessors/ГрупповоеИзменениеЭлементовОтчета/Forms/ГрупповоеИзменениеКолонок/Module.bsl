
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Перем ТаблицаРедактируемыхДанных;
	
	Объект.ВидОтчета=Параметры.ВидОтчета;
	ТекОбъект = РеквизитФормыВЗначение("Объект");
	СтруктураНачальногоЗаполнения   = ТекОбъект.ОпределитьСтруктуруИзменяемыхДанных(Параметры.ТипЭлемента, Параметры.МассивОбъектов, ТаблицаРедактируемыхДанных);
	АдресТаблицыРедактируемыхДанных = ПоместитьВоВременноеХранилище(ТаблицаРедактируемыхДанных, УникальныйИдентификатор);
	
	// Установим значения, общие для всего массива колонок.
	Для Каждого Элемент Из СтруктураНачальногоЗаполнения Цикл
		
		ЭтаФорма[Элемент.Ключ] = Элемент.Значение;
		
	КонецЦикла;
	
	Если Объект.ВидОтчета.Предназначение=Перечисления.ПредназначенияЭлементовСтруктурыОтчета.ОборотноСальдоваяВедомость Тогда
		
		Элементы.ГруппаОстаткиОбороты.Видимость=Истина;	
		ОбщегоНазначенияУХ.ЗагрузитьВСписокЗначений(Справочники.ВидыОтчетов.ПолучитьСписокИспользуемыхИтогов(Объект.ВидОтчета),Элементы.ВидИтогаПоСчету.СписокВыбора);
				
	Иначе
		
		Элементы.ГруппаОстаткиОбороты.Видимость=Ложь;
		
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура ЗаписатьИЗакрыть(Команда)
	
	ИзменитьЭлементы();
	Закрыть();
	
КонецПроцедуры

&НаСервере
Процедура ИзменитьЭлементы()
	
	ТекОбъект = РеквизитФормыВЗначение("Объект");
	ТекОбъект.ЗаписатьИзмененныеДанные(ЭтаФорма, ПолучитьИзВременногоХранилища(АдресТаблицыРедактируемыхДанных), "Колонка")
	
КонецПроцедуры

&НаКлиенте
Процедура ИзменитьСостояниеИзменения(Элемент)
	
	ЭтаФорма[Элемент.Имя+"Изменить"]=Истина;	
		
КонецПроцедуры // ИзменитьСостояниеИзменения()

&НаКлиенте
Процедура ТипЗначенияПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура ВидКурсаПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура НеМасштабируетсяПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура ОборотныйПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура ВнутригрупповойПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура ВидИтогаПоСчетуПриИзменении(Элемент)
	
	ИзменитьСостояниеИзменения(Элемент);
	
КонецПроцедуры
