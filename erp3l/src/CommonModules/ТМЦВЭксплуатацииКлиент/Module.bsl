////////////////////////////////////////////////////////////////////////////////
// Процедуры и функции подсистемы ТМЦ в эксплуатации.
// 
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Заполняет список выбора при авто подборе по инвентарному номеру.
// 
// Параметры:
//  Текст - Строка - Введенный текст.
//  ПараметрыПодбора - см. ТМЦВЭксплуатацииКлиентСервер.ПараметрыПодбораТМЦВЭксплуатации
//  ДанныеВыбора - СписокЗначений - Данные выбора.
//  СтандартнаяОбработка - Булево - Признак стандартной обработки события.
//
Процедура АвтоПодборПоИнвентарномуНомеру(Текст, ПараметрыПодбора, ДанныеВыбора, СтандартнаяОбработка) Экспорт
	
	Если Не ЗначениеЗаполнено(Текст) Тогда
		Возврат;
	КонецЕсли;
	
	ОценкаПроизводительностиКлиент.ЗамерВремени("ТМЦВЭксплуатацииКлиент.АвтоПодборПоИнвентарномуНомеру");
	
	Если ПараметрыПодбора = Неопределено Тогда
		ПараметрыПодбора = ТМЦВЭксплуатацииКлиентСервер.ПараметрыПодбораТМЦВЭксплуатации();
	КонецЕсли;
	
	ПараметрыПодбора.ИнвентарныйНомерСодержит = Текст;
	ПараметрыПодбора.ВыбратьПервые = 10;
	
	СтандартнаяОбработка = Ложь;
	
	ДанныеВыбора = Новый СписокЗначений;
	
	ТМЦВЭксплуатацииВызовСервера.ЗаполнитьДанныеВыбораПоИнвентарномуНомеру(
		ПараметрыПодбора, 
		ДанныеВыбора);
	
КонецПроцедуры

// Получает данные для печати и открывает форму для печати этикеток.
//
// Параметры:
//	ОписаниеКоманды - Структура - структура с описанием команды:
//	                    * Идентификатор - Строка - Может принимать значения "Этикетки";
//	                    * ОбъектыПечати - Массив - Объекты печати.
//
// Возвращаемое значение:
//	Неопределено - Ничего не возвращает.
//
Функция ПечатьЭтикетокТМЦВЭксплуатацииИзДокумента(ОписаниеКоманды) Экспорт
	
	ПараметрыПечати = Новый Структура;
	ПараметрыПечати.Вставить("Идентификатор", ОписаниеКоманды.Идентификатор);
	ПараметрыПечати.Вставить("ОбъектыПечати", ОписаниеКоманды.ОбъектыПечати);
	ПараметрыПечати.Вставить("ДополнительныеПараметры", Новый Структура("МенеджерПечати", ОписаниеКоманды.МенеджерПечати));
	
	ПараметрыФормы = Новый Структура;
	ПараметрыФормы.Вставить("ПечатьИзДокумента", ПараметрыПечати);
	
	ОткрытьФорму(
		"Обработка.ПечатьЭтикетокТМЦВЭксплуатации.Форма",
		ПараметрыФормы,
		ОписаниеКоманды.Форма,
		Новый УникальныйИдентификатор);
	
	Возврат Неопределено;
	
КонецФункции

#КонецОбласти
