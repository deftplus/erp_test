////////////////////////////////////////////////////////////////////////////////
// Общие процедуры и функции связанные с общими объектами метаданных
//  конфигураций БП МСФО и УХ.
//
////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

#Область ИнтеграцияСБиблиотекойСтандартныхПодсистем

#Область БСПБазоваяФункциональность

// См. процедуру
// ОбщегоНазначенияПереопределяемый.ПриДобавленииОбработчиковУстановкиПараметровСеанса().
//
Процедура ПриДобавленииОбработчиковУстановкиПараметровСеанса(Обработчики) Экспорт
	
	Обработчики.Вставить("ЧислоДопАналитик", 		"БПМСФОУХ.УстановкаПараметровСеанса");
	Обработчики.Вставить("СоответствиеДатОбъектов", "БПМСФОУХ.УстановкаПараметровСеанса");
	Обработчики.Вставить("ЯзыкОтчетности", 			"БПМСФОУХ.УстановкаПараметровСеанса");
	Обработчики.Вставить("Протоколируем*", 			"ПротоколируемыеСобытияУХ.УстановкаПараметровСеанса");
	
КонецПроцедуры

#КонецОбласти

#КонецОбласти


#КонецОбласти

Процедура ОчисткаКонстантыНачалаРаботыПередЗаписью(Источник, Отказ) Экспорт
	Если Источник.ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Источник.Значение = Ложь;
КонецПроцедуры

#Область СлужебныеПроцедурыИФункции

// Процедура устанавливает параметры сеанса для конфигурации УХ.
//
// Параметры:
//  ИмяПараметра           - Неопределено;
//  УстановленныеПараметры - Неопределено.
//
Процедура УстановкаПараметровСеанса(ИмяПараметра = Неопределено, УстановленныеПараметры = Неопределено) Экспорт
	
	Если ИмяПараметра = "ЧислоДопАналитик" Тогда
		
		ПараметрыСеанса.ЧислоДопАналитик = 6;
		Если УстановленныеПараметры <> Неопределено Тогда
			УстановленныеПараметры.Добавить("ЧислоДопАналитик");
		КонецЕсли;
		
	ИначеЕсли ИмяПараметра = "СоответствиеДатОбъектов" Тогда
		
		ПараметрыСеанса.СоответствиеДатОбъектов = Новый ФиксированноеСоответствие(Новый Соответствие);
		Если УстановленныеПараметры <> Неопределено Тогда
			УстановленныеПараметры.Добавить("СоответствиеДатОбъектов");
		КонецЕсли;
			
	ИначеЕсли ИмяПараметра = "ЯзыкОтчетности" Тогда
		
		ПараметрыСеанса.ЯзыкОтчетности = ОбщегоНазначенияУХ.ПолучитьЗначениеПоУмолчанию("ОсновнойЯзык");;
		Если УстановленныеПараметры <> Неопределено Тогда
			УстановленныеПараметры.Добавить("ЯзыкОтчетности");
		КонецЕсли;
		
	КонецЕсли;	
		
КонецПроцедуры

#КонецОбласти

