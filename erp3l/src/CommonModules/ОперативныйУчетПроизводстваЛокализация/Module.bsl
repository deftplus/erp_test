#Область СлужебныеПроцедурыИФункции

// Параметры:
//  Форма - ФормаКлиентскогоПриложения
Процедура ДобавитьДанныеДляПодбораРаботников(Форма) Экспорт
	
	//++ Локализация
	ТекстЗапроса = Форма.Работники.ТекстЗапроса;
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "NULL КАК Должность",
			"ПодборСотрудников.ДолжностьПоШтатномуРасписанию КАК Должность");
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "NULL КАК Подразделение",
			"ПодборСотрудников.Подразделение КАК Подразделение");
	
	ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "NULL КАК ТабНомер",
			"ПодборСотрудников.Сотрудник.Код КАК ТабНомер");
	
	ТекстЗапроса = ТекстЗапроса + "
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ДанныеДляПодбораСотрудников КАК ПодборСотрудников
	|		ПО ФизЛица.Ссылка = ПодборСотрудников.ФизическоеЛицо
	|		И ПодборСотрудников.Окончание > &ТекущаяДата И ПодборСотрудников.Начало <= &ТекущаяДата
	|		И ПодборСотрудников.ВидЗанятости = &ОсновноеМестоРаботы";
	
	Форма.Работники.ТекстЗапроса = ТекстЗапроса;
	
	Форма.Работники.Параметры.УстановитьЗначениеПараметра(
			"ТекущаяДата",
			ТекущаяДатаСеанса());
	
	Форма.Работники.Параметры.УстановитьЗначениеПараметра(
			"ОсновноеМестоРаботы",
			ПредопределенноеЗначение("Перечисление.ВидыЗанятости.ОсновноеМестоРаботы"));
	
	Форма.Элементы.РаботникиПодразделение.Видимость = Истина;
	Форма.Элементы.РаботникиДолжность.Видимость     = Истина;
	Форма.Элементы.РаботникиТабНомер.Видимость      = Истина;
	//-- Локализация
	
КонецПроцедуры

#КонецОбласти
