#Область ПрограммныйИнтерфейс

// Функция возвращает элемент перечисления ВидыДоговоров, 
// соответствующий элементу перечисления ВидыДоговоровУХ.
Функция ВидДоговораБП(ВидДоговораУХ) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ВидДоговораБП(ВидДоговораУХ);
	
КонецФункции

// Функция возвращает элемент перечисления ВидыДоговоров, 
// соответствующий элементу перечисления ВидыДоговоровУХ.
Функция ВидДоговораУХ(ВидДоговораБП) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ВидДоговораУХ(ВидДоговораБП);
	
КонецФункции

Функция ЭтоДоговорФинансовогоИнструмента(ВидДоговораУХ) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ЭтоДоговорФинансовогоИнструмента(ВидДоговораУХ);

КонецФункции

Функция ОпределитьВидДоговораПоВидуОперации(ВидОперации = Неопределено) Экспорт
	
	НаборыВидовДоговора = Новый Структура;
	
	СПоставщиком = Новый Массив;
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СПоставщиком"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомитентом"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомиссионером"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомитентомНаЗакупку"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомиссионеромНаЗакупку"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ВвозИзЕАЭС"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Импорт"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СПереработчиком"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СПоклажедателем"));
	СПоставщиком.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.РасчетноКассовоеОбслуживание"));
		
	НаборыВидовДоговора.Вставить("СПоставщиком", СПоставщиком);
	
	СПокупателем = Новый Массив;
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СПокупателем"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомиссионером"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомитентом"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомитентомНаЗакупку"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СКомиссионеромНаЗакупку"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СДавальцем"));
	СПокупателем.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.СХранителем"));
	
	НаборыВидовДоговора.Вставить("СПокупателем", СПокупателем);	
	
	КредитыИЗаймыПолученные = Новый Массив;
	КредитыИЗаймыПолученные.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ЗаемПолученный"));
	КредитыИЗаймыПолученные.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Кредит"));
	КредитыИЗаймыПолученные.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Овердрафт"));
	КредитыИЗаймыПолученные.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Факторинг"));
	
	НаборыВидовДоговора.Вставить("КредитыИЗаймыПолученные", КредитыИЗаймыПолученные);	
	
	ЗаймыВыданные = Новый Массив;
	ЗаймыВыданные.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ЗаемВыданный"));
	НаборыВидовДоговора.Вставить("ЗаймыВыданные", ЗаймыВыданные);	
	
	Прочее = Новый Массив;
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.АккредитивВыданный"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ГарантияВыданная"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Страхование"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ЗалогиИПоручительстваВходящие"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ЗалогиИПоручительстваИсходящие"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.ВалютныйСвоп"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.РасчетыСБрокером"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Депозит"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.МинимальныйНеснижаемыйОстаток"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.УниверсальноеРазмещение"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.УниверсальноеПривлечение"));
	Прочее.Добавить(ПредопределенноеЗначение("Справочник.ВидыДоговоровКонтрагентовУХ.Прочее"));	
	НаборыВидовДоговора.Вставить("Прочее", Прочее);
	
	Если ЗначениеЗаполнено(ВидОперации) тогда
		
		//Определение вида операции
		
		ВидДоговораПоВидуОпераций = Новый Соответствие();
		
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ОплатаПоставщику"), НаборыВидовДоговора.СПоставщиком);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ВыдачаЗаймаКонтрагенту"), НаборыВидовДоговора.ЗаймыВыданные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ВозвратЗайма"), НаборыВидовДоговора.КредитыИЗаймыПолученные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ВозвратКредита"), НаборыВидовДоговора.КредитыИЗаймыПолученные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("РасчетыПоКредитамИЗаймам"), НаборыВидовДоговора.КредитыИЗаймыПолученные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ВозвратПокупателю"), НаборыВидовДоговора.СПокупателем);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ПрочиеРасчетыСКонтрагентами"), НаборыВидовДоговора.Прочее);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийСписаниеДенежныхСредств("ПеречислениеНалогаЗаТретьихЛиц"), НаборыВидовДоговора.Прочее);
		
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ОплатаПокупателя"), НаборыВидовДоговора.СПокупателем);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ВозвратОтПоставщика"), НаборыВидовДоговора.СПоставщиком);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПолучениеЗайма"), НаборыВидовДоговора.КредитыИЗаймыПолученные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПолучениеКредита"), НаборыВидовДоговора.КредитыИЗаймыПолученные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ВозвратЗаймаКонтрагентом"), НаборыВидовДоговора.ЗаймыВыданные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("РасчетыПоКредитамИЗаймам"), НаборыВидовДоговора.ЗаймыВыданные);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПриобретениеИностраннойВалюты"), НаборыВидовДоговора.Прочее);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПоступленияОтПродажиИностраннойВалюты"), НаборыВидовДоговора.Прочее);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПоступленияОтПродажПоПлатежнымКартамИБанковскимКредитам"), НаборыВидовДоговора.Прочее);
		ВидДоговораПоВидуОпераций.Вставить(ДенежныеСредстваВстраиваниеУХКлиентСервер.ВидыОперацийПоступлениеДенежныхСредств("ПрочиеРасчетыСКонтрагентами"), НаборыВидовДоговора.Прочее);
		
		ДоговорыКонтрагентовВстраиваниеУХКлиентСервер.ДополнитьВидыДоговораПоВидуОперации(ВидДоговораПоВидуОпераций, НаборыВидовДоговора);
		
		ВидДоговора = ВидДоговораПоВидуОпераций[ВидОперации];
		
		Если НЕ ВидДоговора = Неопределено Тогда
			Возврат ВидДоговора;
		Иначе
			Возврат Новый Массив;
			
		КонецЕсли;
		
	Иначе
		
		Возврат Новый Массив;
		
	Конецесли;
	
КонецФункции

Функция ПолучитьВидФинансовогоИнструментаПоВидуДоговора(ВидДоговораУХ) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ПолучитьВидФинансовогоИнструментаПоВидуДоговора(ВидДоговораУХ);
	
КонецФункции

Функция ПолучитьВстречныйВидДоговораУХ(ВидДоговораУХ) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ПолучитьВстречныйВидДоговораУХ(ВидДоговораУХ);
	
КонецФункции

Функция ПолучитьИмяДокументаПоВидуДоговора(ВидДоговораУХ) Экспорт
	
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ПолучитьИмяДокументаПоВидуДоговора(ВидДоговораУХ);	
КонецФункции

Функция ЭтоДоходныйИнструмент(ВидФинансовогоИнструмента) Экспорт
	
	Возврат (ВидФинансовогоИнструмента = ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.Депозит")
		Или ВидФинансовогоИнструмента = ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.МНО")
		ИЛИ ВидФинансовогоИнструмента = ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.ЗаемВыданный"));
		
КонецФункции

Функция ДопустимыУсловныеЕдиницы(ВидДоговораУХ) Экспорт
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ДопустимыУсловныеЕдиницы(ВидДоговораУХ);
КонецФункции

Функция ПоддерживаетсяЗеркалированиеВнутригрупповыхДоговоров(ВидДоговораУХ) Экспорт
	
	Возврат ЗначениеЗаполнено(УправлениеДоговорамиУХКлиентСерверПовтИсп.ПолучитьВстречныйВидДоговораУХ(ВидДоговораУХ));
	
КонецФункции

Функция ЭтоДоговорСПоставщиком(ВидДоговораУХ) Экспорт
	
	ВидыДоговоровСПоставщиком = РаботаСДоговорамиКонтрагентовУХКлиентСервер.ВидыДоговоровСПоставщиком();
	
	Возврат (ВидыДоговоровСПоставщиком.Найти(ВидДоговораУХ) <> Неопределено); 
	
КонецФункции

Функция ЭтоДоговорСПокупателем(ВидДоговораУХ) Экспорт
	
	ВидыДоговоровСПокупателем = РаботаСДоговорамиКонтрагентовУХКлиентСервер.ВидыДоговоровСПокупателем();
	
	Возврат (ВидыДоговоровСПокупателем.Найти(ВидДоговораУХ) <> Неопределено); 
	
КонецФункции

Функция ПолучитьИмяСправочникаДоговора(ВидДоговораУХ) Экспорт
	Возврат УправлениеДоговорамиУХВызовСервераПовтИсп.ПолучитьИмяСправочникаДоговора(ВидДоговораУХ);
КонецФункции

#КонецОбласти


