
#Область ПрограммныйИнтерфейс

// Возвращает текст запроса по стоимости ОС
//
// Возвращаемое значение:
// 		Строка - Текст запроса.
//
Функция ТекстЗапросаДанныеСтоимостиОС() Экспорт
	
	Возврат "ВЫБРАТЬ
	|	ОбъектыЭксплуатации.Ссылка
	|ПОМЕСТИТЬ втСписокОС
	|ИЗ
	|	Справочник.ОбъектыЭксплуатации КАК ОбъектыЭксплуатации
	|ГДЕ
	|	ОбъектыЭксплуатации.ГруппаОС = ЗНАЧЕНИЕ(Перечисление.ГруппыОС.ЗемельныеУчастки)
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ПервоначальныеСведенияОС.ОсновноеСредство КАК Ссылка
	|ПОМЕСТИТЬ НеАмортизируемыеОС
	|ИЗ
	|	РегистрСведений.ПервоначальныеСведенияОС.СрезПоследних(
	|			&ДатаОкончания, 
	|			Организация = &Организация 
	|				И ОсновноеСредство В (
	|						ВЫБРАТЬ 
	|							втСписокОС.Ссылка 
	|						ИЗ
	|							втСписокОС КАК втСписокОС)) КАК ПервоначальныеСведенияОС
	|	
	|ИНДЕКСИРОВАТЬ ПО
	|	Ссылка
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ЕСТЬNULL(ХозрасчетныйОстатки.СуммаОстатокДт, 0) КАК СуммаОС
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|			&ДатаОкончания,
	|			Счет В (&СчетОС),
	|			&СубконтоОС,
	|			Организация = &Организация
	|				И НЕ Субконто1 В
	|						(ВЫБРАТЬ
	|							НеАмортизируемыеОС.Ссылка
	|						ИЗ
	|							НеАмортизируемыеОС КАК НеАмортизируемыеОС)) КАК ХозрасчетныйОстатки
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ЕСТЬNULL(ХозрасчетныйОстатки.СуммаОстатокКт, 0) КАК СуммаАмортизации
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(&ДатаОкончания, Счет В (&СчетаАмортизации), , Организация = &Организация) КАК ХозрасчетныйОстатки";
	
КонецФункции
#КонецОбласти