#Область ПрограммныйИнтерфейс

Функция ТребуетсяПостановкаКонтрактаНаУчет(ВидДоговораУХ, СуммаДоговора, ВалютаВзаиморасчетов, ДатаДоговора) Экспорт
	
	ПризнакОшибки = Ложь;
	
	Если НЕ ЗначениеЗаполнено(ВалютаВзаиморасчетов) Тогда
		ОбщегоНазначения.СообщитьПользователю(НСтр("ru = 'Не указана валюта договора. Расчет рублевого эквивалента суммы невозможен.'"),,,,ПризнакОшибки);
	КонецЕсли;
	
	ВалютаРегламентированногоУчета = ОбщегоНазначенияБПВызовСервераПовтИсп.ПолучитьВалютуРегламентированногоУчета();
	
	Если (ВалютаВзаиморасчетов <> ВалютаРегламентированногоУчета) И НЕ ЗначениеЗаполнено(ДатаДоговора) Тогда
		ОбщегоНазначения.СообщитьПользователю(НСтр("ru = 'Не указана дата договора. Расчет рублевого эквивалента суммы невозможен.'"),,,,ПризнакОшибки);
	КонецЕсли;
	
	
	Если ПризнакОшибки Тогда
		Возврат Ложь;
	Иначе
		
		РублевыйЭквивалентСуммыДоговора = РаботаСКурсамиВалют.ПересчитатьВВалюту(СуммаДоговора, ВалютаВзаиморасчетов, ВалютаРегламентированногоУчета, ДатаДоговора);
		СуммаЛимита = ВалютныйКонтрольКлиентСерверУХ.СуммаДляПостановкиНаУчетПоВидуДоговора(ВидДоговораУХ);
		
		Возврат РублевыйЭквивалентСуммыДоговора >= СуммаЛимита;
		
	КонецЕсли;
	
КонецФункции


#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#КонецОбласти
