#Область ПрограммныйИнтерфейс

Функция ПодставитьИмяТаблицыБанкоскогоСчетаОрганизацийВТекстЗапроса(ТекстЗапроса) Экспорт
	Возврат ТекстЗапроса;
КонецФункции

Функция ПодставитьИмяТаблицыБанкоскогоСчетаКонтрагентаВТекстЗапроса(ТекстЗапроса) Экспорт
	Возврат ТекстЗапроса;
КонецФункции

Функция ПолучитьПустойБанковскийСчет() Экспорт
	
	Возврат ПредопределенноеЗначение("Справочник.БанковскиеСчетаОрганизаций.ПустаяСсылка");
	
КонецФункции

Функция ПолучитьПустойБанковскийСчетКонтрагента() Экспорт
	
	Возврат ПредопределенноеЗначение("Справочник.БанковскиеСчетаКонтрагентов.ПустаяСсылка");
	
КонецФункции

Функция ПолучитьПустуюКассу() Экспорт
	
	Возврат ПредопределенноеЗначение("Справочник.Кассы.ПустаяСсылка");
	
КонецФункции

Функция ВидыОперацийСписаниеДенежныхСредств(Значение) Экспорт
	Возврат ПредопределенноеЗначение("Перечисление.ВидыОперацийСписаниеДенежныхСредств." + Значение);
КонецФункции

Функция ВидыОперацийПоступлениеДенежныхСредств(Значение) Экспорт
	Возврат ПредопределенноеЗначение("Перечисление.ВидыОперацийПоступлениеДенежныхСредств." + Значение);
КонецФункции

Функция ТипБанковскиеСчетаОрганизаций() Экспорт
	Возврат Тип("СправочникСсылка.БанковскиеСчетаОрганизаций");
КонецФункции

Функция ИмяСправочникаБанковскиеСчетаКонтрагентов() Экспорт
	Возврат "БанковскиеСчетаКонтрагентов";
КонецФункции

Функция ИмяСправочникаБанковскиеСчетаОрганизаций() Экспорт
	Возврат "БанковскиеСчетаОрганизаций";
КонецФункции

Функция ТипБанковскиеСчетаКонтрагентов() Экспорт
	Возврат Тип("СправочникСсылка.БанковскиеСчетаКонтрагентов");
КонецФункции

Функция ТипВидыОперацийПоступлениеДенежныхСредств() Экспорт
	Возврат Тип("ПеречислениеСсылка.ХозяйственныеОперации");
КонецФункции

Функция ТипВидыОперацийСписаниеДенежныхСредств() Экспорт
	Возврат Тип("ПеречислениеСсылка.ХозяйственныеОперации");
КонецФункции

Функция ТипВидыОперацийПКО() Экспорт
	Возврат Тип("ПеречислениеСсылка.ХозяйственныеОперации");
КонецФункции

Функция ТипВидыОперацийРКО() Экспорт
	Возврат Тип("ПеречислениеСсылка.ХозяйственныеОперации");
КонецФункции

Функция ВидыОперацийПКОПолучениеНаличныхВБанке() Экспорт
	//Возврат ПредопределенноеЗначение("Перечисление.ВидыОперацийПКО.ПолучениеНаличныхВБанке");
	Возврат ПредопределенноеЗначение("Перечисление.ХозяйственныеОперации.ПоступлениеДенежныхСредствИзБанка");
КонецФункции

Функция ВидыОперацийРКОВзносНаличнымиВБанк() Экспорт
	//Возврат ПредопределенноеЗначение("Перечисление.ВидыОперацийРКО.ВзносНаличнымиВБанк");
	Возврат ПредопределенноеЗначение("Перечисление.ХозяйственныеОперации.СдачаДенежныхСредствВБанк");
	
КонецФункции

Функция ВидыОперацийРКОИнкассация() Экспорт
	//Возврат ПредопределенноеЗначение("Перечисление.ВидыОперацийРКО.Инкассация");
	Возврат ПредопределенноеЗначение("Перечисление.ХозяйственныеОперации.ИнкассацияДенежныхСредствВБанк");
КонецФункции

Функция ПолучитьСписокОчередностьПлатежа(Дата) Экспорт
	Список = Новый СписокЗначений;
	
	Если Дата < НачалоДействияНовыхПравилОчередностиПлатежа() Тогда
		Список.Добавить(1, НСтр("ru = '1 - Платежи по исполнительным документам: алименты и др.'"));
		Список.Добавить(2, НСтр("ru = '2 - Платежи по исполнительным документам: оплата труда и др.'"));
		Список.Добавить(3, НСтр("ru = '3 - Оплата труда и взносы в ПФР, ФОМС, ФСС'"));
		Список.Добавить(4, НСтр("ru = '4 - Налоги и взносы прочие'"));
		Список.Добавить(5, НСтр("ru = '5 - Платежи по исполнительным документам прочие'"));
		Список.Добавить(6, НСтр("ru = '6 - Прочие платежи'"));
	Иначе
		Список.Добавить(1, НСтр("ru = '1 - Платежи по исполнительным документам: алименты и др.'"));
		Список.Добавить(2, НСтр("ru = '2 - Платежи по исполнительным документам: оплата труда и др.'"));
		Список.Добавить(3, НСтр("ru = '3 - Оплата труда, платежи по поручениям контролирующих органов'"));
		Список.Добавить(4, НСтр("ru = '4 - Платежи по исполнительным документам прочие'"));
		Список.Добавить(5, НСтр("ru = '5 - Прочие платежи (в т.ч. налоги и взносы)'"));
	КонецЕсли;
	
	Возврат Список;
КонецФункции

Функция НачалоДействияНовыхПравилОчередностиПлатежа() Экспорт
	
	// 345-ФЗ от 02.12.2013
	
	Возврат '20131214';
	
КонецФункции

// Возращает текст запроса компоновки для отчёта Контроль сроков репатриации валюты.
Функция ЗаменитьТекстЗапросаКонтрольСроковРепатриацииВалюты(ТекстЗапросаВход) Экспорт
	РезультатФункции = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ
	|	РасчетыСКонтрагентамиПоДокументамОстатки.Организация КАК Организация,
	|	РасчетыСКонтрагентамиПоДокументамОстатки.ДоговорКонтрагента.Контрагент КАК Контрагент,
	|	РасчетыСКонтрагентамиПоДокументамОстатки.ДоговорКонтрагента КАК ДоговорКонтрагента,
	|	СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.Регистратор КАК СправкаВалютногоКонтроля,
	|	СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.ДокументРасчетов КАК ДокументРасчетов,
	|	СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.СрокРепатриации КАК СрокРепатриации,
	|	РАЗНОСТЬДАТ(&ТекущаяДата, СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.СрокРепатриации, ДЕНЬ) КАК ОсталосьДней,
	|	СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.СуммаДокументаРасчетов КАК СуммаДокументаРасчетов,
	|	РасчетыСКонтрагентамиПоДокументамОстатки.СуммаОстаток КАК ЗадолженностьПоДокументу
	|ИЗ
	|	РегистрСведений.СведенияВалютногоКонтроляУчетныхДокументов.СрезПоследних КАК СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних
	|		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрНакопления.РасчетыСКонтрагентамиПоДокументам.Остатки КАК РасчетыСКонтрагентамиПоДокументамОстатки
	|		ПО СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.ДокументРасчетов = РасчетыСКонтрагентамиПоДокументамОстатки.ДокументРасчетов
	|ГДЕ
	|	СведенияВалютногоКонтроляУчетныхДокументовСрезПоследних.СрокРепатриации <> ДАТАВРЕМЯ(1, 1, 1)";
	Возврат РезультатФункции;
КонецФункции		// ЗаменитьТекстЗапросаКонтрольСроковРепатриацииВалюты()

// Возращает текст запроса компоновки для отчёта Контроль сроков репатриации валюты.
Функция ЗаменитьТекстЗапросаУсловияОплатыДоговоров(ТекстЗапросаВход) Экспорт
	РезультатФункции = 
	"ВЫБРАТЬ РАЗРЕШЕННЫЕ РАЗЛИЧНЫЕ
	|	ДоговорыКонтрагентов.Ссылка КАК Договор,
	|	ДоговорыКонтрагентов.Контрагент КАК Контрагент,
	|	ДоговорыКонтрагентов.Организация КАК Организация,
	|	ДоговорыКонтрагентов.УсловиеОплаты КАК УсловиеОплатыДоговора,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.СтепеньРиска, ЗНАЧЕНИЕ(Справочник.СтепениРиска.ПустаяСсылка)) КАК СтепеньРиска,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.СтепеньДоходности, ЗНАЧЕНИЕ(Справочник.СтепениДоходности.ПустаяСсылка)) КАК СтепеньДоходности,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты, ЗНАЧЕНИЕ(Справочник.УсловияОплаты.ПустаяСсылка)) КАК РекомендуемоеУсловиеОплаты,
	|	КлассыКонтрагентовСрезПоследних.РольКонтрагента КАК РольКонтрагента,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.ПроцентАванса, 0) КАК ПроцентАвансаДоговора,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.СрокОтсрочкиПриведенный, 0) КАК СрокОтсрочкиДоговора,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.СрокАвансаПриведенный, 0) КАК СрокАвансаДоговора,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.ПроцентАванса, 0) КАК ПроцентАвансаРекомендуемый,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.СрокОтсрочкиПриведенный, 0) КАК СрокОтсрочкиРекомендуемый,
	|	ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.СрокАвансаПриведенный, 0) КАК СрокАвансаРекомендуемый,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.ПроцентАванса, 0) - ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.ПроцентАванса, 0) КАК ПроцентАвансаОтклонение,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.СрокОтсрочкиПриведенный, 0) - ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.СрокОтсрочкиПриведенный, 0) КАК СрокОтсрочкиОтклонение,
	|	ЕСТЬNULL(ДоговорыКонтрагентов.УсловиеОплаты.СрокАвансаПриведенный, 0) - ЕСТЬNULL(КлассыКонтрагентовСрезПоследних.УсловиеОплаты.СрокАвансаПриведенный, 0) КАК СрокАвансаОтклонение,
	|	ДоговорыКонтрагентов.ВидДоговораУХ КАК ВидДоговораУХ
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.КлассыКонтрагентов.СрезПоследних КАК КлассыКонтрагентовСрезПоследних
	|		ПО ДоговорыКонтрагентов.Контрагент = КлассыКонтрагентовСрезПоследних.Контрагент
	|			И (ВЫБОР
	|				КОГДА ДоговорыКонтрагентов.ВидДоговораУХ В (ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПокупателем), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СДавальцем))
	|					ТОГДА КлассыКонтрагентовСрезПоследних.РольКонтрагента = ЗНАЧЕНИЕ(Перечисление.РолиКонтрагентов.Покупатели)
	|				КОГДА ДоговорыКонтрагентов.ВидДоговораУХ В (ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПоставщиком), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.ВвозИзЕАЭС), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.Импорт), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПереработчиком), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПоклажедателем))
	|					ТОГДА КлассыКонтрагентовСрезПоследних.РольКонтрагента = ЗНАЧЕНИЕ(Перечисление.РолиКонтрагентов.Поставщики)
	|				ИНАЧЕ ЛОЖЬ
	|			КОНЕЦ)
	|ГДЕ
	|	ДоговорыКонтрагентов.ПометкаУдаления = ЛОЖЬ
	|	И ДоговорыКонтрагентов.ВидДоговораУХ В (ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПокупателем), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СДавальцем), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПоставщиком), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.ВвозИзЕАЭС), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.Импорт), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПереработчиком), ЗНАЧЕНИЕ(Справочник.ВидыДоговоровКонтрагентовУХ.СПоклажедателем))
	|	И ДоговорыКонтрагентов.СпособФормированияПлатежей = ЗНАЧЕНИЕ(Перечисление.СпособыФормированияПлатежейПоДоговору.ПоГрафикуПлатежей)";
	Возврат РезультатФункции;
КонецФункции		// ЗаменитьТекстЗапросаУсловияОплатыДоговоров()

// Возращает текст запроса компоновки для отчёта Контроль сроков репатриации валюты.
Функция ЗаменитьТекстЗапросаСвязанныеДоговоры(ТекстЗапросаВход) Экспорт
	РезультатФункции = 
	"ВЫБРАТЬ
	|	ДоговорыКонтрагентов.Ссылка КАК ДоговорКонтрагента,
	|	ДоговорыКонтрагентов.Контрагент КАК Контрагент
	|ИЗ
	|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ОбеспечениеТретьихЛиц.Ссылка,
	|	ОбеспечениеТретьихЛиц.Контрагент
	|ИЗ
	|	Справочник.ОбеспечениеТретьихЛиц КАК ОбеспечениеТретьихЛиц
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДоговорыАренды.Ссылка,
	|	ДоговорыАренды.Контрагент
	|ИЗ
	|	Справочник.ДоговорыАренды КАК ДоговорыАренды
	|
	|ОБЪЕДИНИТЬ ВСЕ
	|
	|ВЫБРАТЬ
	|	ДоговорыКредитовИДепозитов.Ссылка,
	|	ДоговорыКредитовИДепозитов.Контрагент
	|ИЗ
	|	Справочник.ДоговорыКредитовИДепозитов КАК ДоговорыКредитовИДепозитов";
	Возврат РезультатФункции;
КонецФункции		// ЗаменитьТекстЗапросаСвязанныеДоговоры()

// Возвращает Истина, если ДокументСсылка является счетом на полату покупателю
Функция ЭтоСчетНаОплатуПокупателюКлиенту(ДокументСсылка) Экспорт
	
	Возврат ТипЗнч(ДокументСсылка) = Тип("ДокументСсылка.СчетНаОплатуКлиенту");
	
КонецФункции

// Возвращает Истина, если ДокументСсылка является документом реализации
Функция ЭтоДокументРеализации(ДокументСсылка) Экспорт
	
	Возврат ТипЗнч(ДокументСсылка) = Тип("ДокументСсылка.РеализацияТоваровУслуг");
	
КонецФункции

#КонецОбласти

