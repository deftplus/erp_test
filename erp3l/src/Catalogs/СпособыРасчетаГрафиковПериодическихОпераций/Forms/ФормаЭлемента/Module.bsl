
&НаКлиенте
Процедура ПериодичностьПриИзменении(Элемент)
	
	ОбновитьНаименование();
	
КонецПроцедуры

&НаСервере
Процедура ОбновитьНаименование()
	
	ТекстНаименования="";
	
	Если Объект.Периодичность=Перечисления.Периодичность.Год Тогда
		
		ТекстНаименование=НСтр("ru = 'Ежегодно'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.ДевятьМесяцев Тогда
		
		ТекстНаименование=НСтр("ru = 'Каждые 9 месяцев'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.Декада Тогда
		
		ТекстНаименование=НСтр("ru = 'Подекадно'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.День Тогда
		
		ТекстНаименование=НСтр("ru = 'Ежедневно'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.Квартал Тогда
		
		ТекстНаименование=НСтр("ru = 'Ежеквартально'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.Месяц Тогда
		
		ТекстНаименование=НСтр("ru = 'Ежемесячно'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.Неделя Тогда
		
		ТекстНаименование=НСтр("ru = 'Еженедельно'");
		
	ИначеЕсли Объект.Периодичность=Перечисления.Периодичность.Полугодие Тогда
		
		ТекстНаименование=НСтр("ru = 'Каждые полгода'");
		
	КонецЕсли;
	
	ТекстНаименование=ТекстНаименование+", "+НРЕГ(Строка(Объект.СпособОпределенияДатыОперации));
	
	Если НЕ Объект.СдвигПериодов=0 Тогда
		
		ТекстНаименование=ТекстНаименование + " " + ?(Объект.СдвигПериодов>0,"+ ","") + " " + Объект.СдвигПериодов + " " + Объект.ПериодичностьСдвигаПериодов;
		
	КонецЕсли;
	
	ТекстНаименование=ТекстНаименование + ", " + НСтр("ru = 'способ расчета'") + ": " + Объект.СпособРасчетаКоличестваДней;
	
	Объект.Наименование=ТекстНаименование;
	
КонецПроцедуры // ОбновитьНаименование() 

&НаКлиенте
Процедура СпособРасчетаКоличестваДнейПриИзменении(Элемент)
	
	ОбновитьНаименование();
	
КонецПроцедуры

&НаКлиенте
Процедура СпособОпределенияДатыОперацииПриИзменении(Элемент)
	
	ОбновитьНаименование();
	
КонецПроцедуры

&НаКлиенте
Процедура СдвигПериодовПриИзменении(Элемент)
	
	ОбновитьНаименование();
	
КонецПроцедуры

&НаКлиенте
Процедура ПериодичностьСдвигаПериодовПриИзменении(Элемент)
	
	ОбновитьНаименование();
	
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если НЕ (ЗначениеЗаполнено(Объект.Ссылка) ИЛИ ЗначениеЗаполнено(Параметры.ЗначениеКопирования)) Тогда
		
		Объект.Периодичность=Перечисления.Периодичность.Месяц;
		Объект.СпособОпределенияДатыОперации=Перечисления.СпособыОпределенияДатыОперацииПоПериоду.ОкончаниеПериода;
		Объект.СпособРасчетаКоличестваДней=Перечисления.СпособыРасчетаКоличестваДнейВПериоде.ПоКалендарнымДням;
		
		ОбновитьНаименование();
		
	КонецЕсли;
	
КонецПроцедуры
