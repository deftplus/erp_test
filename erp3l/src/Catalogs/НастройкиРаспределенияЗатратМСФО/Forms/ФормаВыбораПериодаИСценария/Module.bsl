
&НаКлиенте
Процедура Сформировать(Команда)
	Перем ВозвращаемаяСтруктура;
	
	Если НЕ ПроверитьЗаполнение() Тогда
		Возврат;
	КонецЕсли;
	
	ВозвращаемаяСтруктура = Новый Структура("СценарийИсточник,ПериодИсточник,ОрганизацияИсточник,СценарийПриемник,ПериодПриемник,ОрганизацияПриемник",
		СценарийИсточник, ПериодИсточник, ОрганизацияИсточник, СценарийПриемник, ПериодПриемник, ОрганизацияПриемник); 
	Закрыть(ВозвращаемаяСтруктура);
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	ИскСвойство = Неопределено;
	Если Параметры.Свойство("Сценарий", ИскСвойство) Тогда
		СценарийИсточник = ИскСвойство;
		СценарийПриемник = ИскСвойство;
	КонецЕсли;
	ИскСвойство = Неопределено;
	Если Параметры.Свойство("ПериодСценария", ИскСвойство) Тогда
		ПериодИсточник = ИскСвойство;
		ПериодПриемник =  ОбщегоНазначенияУХ.глОтносительныйПериод(ИскСвойство, 1, Истина);
	КонецЕсли;
	ИскСвойство = Неопределено;
	Если Параметры.Свойство("Организация", ИскСвойство) Тогда
		ОрганизацияИсточник = ИскСвойство;
		ОрганизацияПриемник = ИскСвойство;
	КонецЕсли;
КонецПроцедуры
