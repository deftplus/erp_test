
Функция ПолучитьМаксимальныйСрокОплаты(УсловиеОплаты) Экспорт 
	Запрос = Новый Запрос;
	Запрос.Текст =
	"ВЫБРАТЬ
	|	ЕСТЬNULL(СУММА(УсловияОплатыЭтапыОплаты.Срок),0) КАК Срок
	|ИЗ
	|	Справочник.УсловияОплаты.ЭтапыОплаты КАК УсловияОплатыЭтапыОплаты
	|ГДЕ
	|	УсловияОплатыЭтапыОплаты.Ссылка = &УсловиеОплаты
	|	И УсловияОплатыЭтапыОплаты.ВариантОплаты = ЗНАЧЕНИЕ(Перечисление.ВариантыОплаты.Постоплата)";
	
	Запрос.УстановитьПараметр("УсловиеОплаты", УсловиеОплаты);
	
	Выборка = Запрос.Выполнить().Выбрать();
	Пока Выборка.Следующий() Цикл 
		Возврат Выборка.Срок;
	КонецЦикла;
	
	Возврат 0;
КонецФункции