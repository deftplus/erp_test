
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)	
	
	ПараметрыВыбораСчета = МСФОУХ.ПолучитьПараметрыВыбораСчетаБД(Справочники.ПланыСчетовБД.ПолучитьПланСчетовБД(), Ложь);
	Элементы.СчетОтражения.ПараметрыВыбора = ПараметрыВыбораСчета;
	
	ОбновитьВидимостьСчетаРасчета();
	
КонецПроцедуры

&НаСервере
Процедура ПослеЗаписиНаСервере(ТекущийОбъект, ПараметрыЗаписи)
	
	ОбновитьВидимостьСчетаРасчета();

КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовФормы

&НаКлиенте
Процедура ВидСчетаПриИзменении(Элемент)	
КонецПроцедуры

&НаКлиенте
Процедура ВидРазницыПриИзменении(Элемент)	
КонецПроцедуры

#КонецОбласти

#Область ВспомогательныеПроцедурыФункции

&НаСервере
Процедура ОбновитьВидимостьСчетаРасчета()
	
	ТекущаяВидимость = Элементы.СчетаРасчета.Видимость;
	Если Параметры.Ключ.Пустая() Тогда
		
		Если ТекущаяВидимость Тогда
			Элементы.СчетаРасчета.Видимость = Ложь;
		КонецЕсли;
		Возврат; // не требуется отображение
		
	КонецЕсли;
	
	ОтборСчетов = СчетаРасчета.КомпоновщикНастроек.Настройки.Отбор;
	ОтборСчетов.Элементы.Очистить();
	
	Элементы.СчетаРасчета.Видимость = Истина;
	ТиповыеОтчетыУХ.ДобавитьОтбор(ОтборСчетов, "ВидОтложенногоНалога", Параметры.Ключ, , Ложь);
	
КонецПроцедуры

#КонецОбласти


