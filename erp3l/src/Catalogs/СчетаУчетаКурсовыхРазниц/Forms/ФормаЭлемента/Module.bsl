
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЭтаФорма.КэшируемыеЗначения = Новый Структура;	
	ЭтаФорма.КэшируемыеЗначения.Вставить("ИменаСубконто", Справочники.СчетаУчетаКурсовыхРазниц.ПолучитьИменаСубконто());
	МСФОКлиентСерверУХ.УстановитьПланСчетов(ЭтаФорма);
	
	ПараметрыВыбораИсточник = Новый Массив;
	ПараметрыВыбораИсточник.Добавить(Новый ПараметрВыбора("Владелец", ЭтаФорма.Объект.ПланСчетовБД));
	ПараметрыВыбораПоля = Новый ФиксированныйМассив(ПараметрыВыбораИсточник);	
	
	Для каждого ИмяСчета Из ЭтаФорма.КэшируемыеЗначения.ИменаСубконто Цикл
		ЭтаФорма.Элементы[ИмяСчета.Ключ].ПараметрыВыбора = ПараметрыВыбораПоля;
		МСФОКлиентСерверУХ.ОбновитьСубконтоСчета(ЭтаФорма, ИмяСчета.Ключ);
	КонецЦикла;
	
КонецПроцедуры

&НаКлиенте
Процедура СчетУчетаПрибылиПриИзменении(Элемент)
	МСФОКлиентСерверУХ.ОбновитьСубконтоСчета(ЭтаФорма, Элемент.Имя);
КонецПроцедуры

&НаКлиенте
Процедура СчетУчетаУбыткаПриИзменении(Элемент)
	МСФОКлиентСерверУХ.ОбновитьСубконтоСчета(ЭтаФорма, Элемент.Имя);
КонецПроцедуры

&НаКлиенте
Процедура ПланСчетовБДПриИзменении(Элемент)
	МСФОКлиентСерверУХ.УстановитьПланСчетов(ЭтаФорма);
КонецПроцедуры

