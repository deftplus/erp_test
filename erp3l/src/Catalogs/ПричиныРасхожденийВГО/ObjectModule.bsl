#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

Процедура ОбработкаЗаполнения(ДанныеЗаполнения, ТекстЗаполнения, СтандартнаяОбработка)
	
	Если ДанныеЗаполнения <> Неопределено Тогда
		Если ДанныеЗаполнения.Свойство("ЗаполнитьШаблон") Тогда
			Справочники.ПричиныРасхожденийВГО.ЗаполнитьКорректировкиШаблона(ЭтотОбъект);		
		КонецЕсли;
	КонецЕсли;
	
	Объект = ЭтотОбъект;
	///ФСД продажи:СчетДКЗ,Контрагент,Договор, КорСчет,НГ(ПДР),Актив(МПЗ,ВНА)
	///ФСД покупки:СчетДКЗ,Контрагент,Договор, КорСчет,Актив(МПЗ,ВНА), склад(партия,Подр)
	
	
	////////////////
	ЗнакОперации = ?(Объект.КорректировкиСторно, -1, 1);
	
	НоваяСтрока = Объект.Проводки.Добавить();
	
	НоваяСтрока.РазделВГО 			= Объект.РазделВГО;
	НоваяСтрока.ПланСчетовБД 		= Объект.ПланСчетов;
	НоваяСтрока.ИсточникДанныхДт	= Объект.ИсточникДанных;
	НоваяСтрока.ИсточникДанныхКт	= Объект.ИсточникДанных;
	
	НоваяСтрока.ПроцентОтСуммыРасхождения = 100 * ЗнакОперации;
	
	//увеличение продажи(Дт62Кт91=100)
	//сторно продажи(Дт62Кт91=-100)
	//увеличение покупки(Дт10Кт60=100)
	//сторно покупки(Дт10Кт60=-100)
		
КонецПроцедуры

#КонецЕсли
