
&НаКлиенте
Процедура РедактироватьФормулуРасчета(Команда)
	
	Если Параметры.Ключ.Пустая() Тогда
		
		Ответ = Неопределено;
		Оповещение = Новый ОписаниеОповещения("РедактироватьФормулуРасчетаЗавершение", ЭтотОбъект);
		ПоказатьВопрос(Оповещение, "Условие еще не записано. Записать?", РежимДиалогаВопрос.ДаНет);
        Возврат;
	КонецЕсли;
	
	ОткрытьФормуНастройкиФормулыРасчета();
	
КонецПроцедуры

&НаКлиенте
Процедура РедактироватьФормулуРасчетаЗавершение(РезультатВопроса, ДополнительныеПараметры) Экспорт
    
    Ответ = РезультатВопроса;
    Если Ответ = КодВозвратаДиалога.Да Тогда
        Если НЕ Записать() Тогда
            Возврат;
        КонецЕсли;
    Иначе
        Возврат;
    КонецЕсли;
    
    ОткрытьФормуНастройкиФормулыРасчета();

КонецПроцедуры

&НаКлиенте
Процедура ОткрытьФормуНастройкиФормулыРасчета()
	
	ПараметрыФормы = Новый Структура("НазначениеРасчетов,ПотребительРасчета,СпособИспользования", 
											Объект.Ссылка, 
											Объект.Ссылка, 
											ПредопределенноеЗначение("Перечисление.СпособыИспользованияОперандов.ДляПараметрическихУсловий")
										);
    ОткрытьФорму("ОбщаяФорма.ФормаНастройкиФормулРасчета", ПараметрыФормы);
    
КонецПроцедуры

