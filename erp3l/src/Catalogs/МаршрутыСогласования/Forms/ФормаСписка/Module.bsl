
////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ФОРМЫ.
//

&НаКлиенте
Процедура СписокПередНачаломИзменения(Элемент, Отказ)
	
	Отказ = Истина;
	СписокЗначений = Новый СписокЗначений;
	СписокЗначений.Добавить(0, "Реквизиты маршрута");
	СписокЗначений.Добавить(1, "Конструктор маршрута");
	СписокЗначений.Добавить(2, "Этапы маршрута");
	Ответ = Неопределено;

	ДопПараметры = Новый Структура("Элемент", Элемент);
	Оповещение = Новый ОписаниеОповещения("СписокПередНачаломИзмененияЗавершение", ЭтотОбъект, ДопПараметры);
	ПоказатьВыборИзМеню(Оповещение, СписокЗначений, Элемент);

КонецПроцедуры

&НаКлиенте
Процедура СписокПередНачаломИзмененияЗавершение(ВыбранныйЭлемент, ДополнительныеПараметры) Экспорт
    
    Элемент = ДополнительныеПараметры.Элемент;    
    
    Ответ = ВыбранныйЭлемент;
    
    Если Ответ = Неопределено Тогда
        Возврат;
    КонецЕсли;
    
    Если Ответ.Значение = 0 Тогда
        ОткрытьФорму("Справочник.МаршрутыСогласования.ФормаОбъекта", Новый Структура("Ключ", Элемент.ТекущаяСтрока));
    Иначе 	
        ОткрытьФорму("Справочник.ЭтапыСогласования.ФормаСписка", Новый Структура("Отбор", Новый Структура("Владелец", Элемент.ТекущаяСтрока)));
    КонецЕсли;
    
КонецПроцедуры

