
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Периметр=Параметры.Периметр;
	МетодКонсолидации=Параметры.МетодКонсолидации;
	
КонецПроцедуры

&НаКлиенте
Процедура ПериметрНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	СтруктураПараметров = Новый Структура;	
	ОткрытьФорму("Справочник.Организации.ФормаВыбора", СтруктураПараметров, Элемент);
	
КонецПроцедуры

&НаКлиенте
Процедура ОК(Команда)
	
	ДанныеОтбора=Новый СписокЗначений;
	ДанныеОтбора.Вставить(0,Периметр,?(ЗначениеЗаполнено(Периметр),Периметр, Нстр("ru = 'По периметру экземпляра отчета'")));
	ДанныеОтбора.Вставить(1,МетодКонсолидации,?(ЗначениеЗаполнено(МетодКонсолидации),МетодКонсолидации, Нстр("ru = 'без отбора по методу консолидации'")));
		
	Оповестить("ИзмененОтборПоПериметру",ДанныеОтбора);
	Закрыть();
	
КонецПроцедуры
