#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	МожноРедактировать = ПравоДоступа("Редактирование", Метаданные.Справочники.ЦенныеБумаги);
	Элементы.СписокКонтекстноеМенюИзменитьВыделенные.Видимость = МожноРедактировать;
	
	ПомеченныеНаУдалениеСервер.СкрытьПомеченныеНаУдаление(ЭтотОбъект);
	
	#Область УХ_Встраивание
	ПриСозданииНаСервереУХ(Отказ, СтандартнаяОбработка);
	#КонецОбласти
	
КонецПроцедуры

&НаКлиенте
Процедура ПриОткрытии(Отказ)
	//Вставить содержимое обработчика
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ИзменитьВыделенные(Команда)
	
	ГрупповоеИзменениеОбъектовКлиент.ИзменитьВыделенные(Элементы.Список);

КонецПроцедуры

&НаКлиенте
Процедура СоздатьВексель(Команда)
	
	СоздатьЦеннуюБумагу(ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.Вексель"));
	
КонецПроцедуры

&НаКлиенте
Процедура СоздатьОблигацию(Команда)
	
	СоздатьЦеннуюБумагу(ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.Облигация"));

КонецПроцедуры

&НаКлиенте
Процедура СоздатьАкцию(Команда)
	
	СоздатьЦеннуюБумагу(ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.Акция"));
	
КонецПроцедуры

&НаКлиенте
Процедура СоздатьПрочиеЦенныеБумаги(Команда)
	
	СоздатьЦеннуюБумагу(ПредопределенноеЗначение("Перечисление.ВидыФинансовыхИнструментов.ПрочиеЦенныеБумаги"));
	
КонецПроцедуры

#КонецОбласти

#Область СтандартныеПодсистемы

// СтандартныеПодсистемы.ПодключаемыеКоманды
&НаКлиенте
Процедура Подключаемый_ВыполнитьКоманду(Команда)
	
	#Область УХ_Встраивание
	ПодключаемыеКомандыКлиент.ВыполнитьКоманду(ЭтотОбъект, Команда, Элементы.Список);
	#КонецОбласти
	
КонецПроцедуры

&НаСервере
Процедура Подключаемый_ВыполнитьКомандуНаСервере(Контекст, Результат) Экспорт
	
	#Область УХ_Встраивание
	ПодключаемыеКоманды.ВыполнитьКоманду(ЭтотОбъект, Контекст, Элементы.Список, Результат);
	#КонецОбласти
	
КонецПроцедуры

&НаКлиенте
Процедура Подключаемый_ОбновитьКоманды()
	
	#Область УХ_Встраивание
	ПодключаемыеКомандыКлиентСервер.ОбновитьКоманды(ЭтотОбъект, Элементы.Список);
	#КонецОбласти
	
КонецПроцедуры
// Конец СтандартныеПодсистемы.ПодключаемыеКоманды

#КонецОбласти

#Область ОбработчикиСобытийЭлементовТаблицыФормыСписок

&НаКлиенте
Процедура СписокПриИзменении(Элемент)
	
	ПомеченныеНаУдалениеКлиент.ПриИзмененииСписка(ЭтотОбъект, Элемент);
	
КонецПроцедуры

&НаСервере
Процедура СписокПередЗагрузкойПользовательскихНастроекНаСервере(Элемент, Настройки, ИспользуютсяСтандартныеНастройки)
	
	ПомеченныеНаУдалениеСервер.УдалитьОтборПометкаУдаления(Настройки);
	
КонецПроцедуры

&НаКлиенте
Процедура СписокПриАктивизацииСтроки(Элемент)
	
	#Область УХ_Встраивание
	ПодключаемыеКомандыКлиент.НачатьОбновлениеКоманд(ЭтотОбъект);
	#КонецОбласти
	
КонецПроцедуры

#КонецОбласти

#Область УХ_Встраивание

&НаКлиенте
Процедура СоздатьЦеннуюБумагу(ВидФинансовогоИнструмента)
	
	СтруктураПараметров = ПолучитьСтруктуруПараметровФормы(
		Новый Структура("ВидФинансовогоИнструмента", ВидФинансовогоИнструмента));
	ОткрытьФорму("Справочник.ЦенныеБумаги.ФормаОбъекта", СтруктураПараметров, ЭтаФорма);
	
КонецПроцедуры

&НаКлиенте
Функция ПолучитьСтруктуруПараметровФормы(ДобавленныеСвойства)
	
	СтруктураПараметров = Новый Структура;
	
	ЗначенияЗаполнения = ОбщегоНазначенияБПВызовСервера.ЗначенияЗаполненияДинамическогоСписка(Список.КомпоновщикНастроек);
	Если ЗначениеЗаполнено(Элементы.Список.ТекущийРодитель) Тогда
		ЗначенияЗаполнения.Вставить("Родитель", Элементы.Список.ТекущийРодитель);
	КонецЕсли;
	
	ОбщегоНазначенияКлиентСервер.ДополнитьСтруктуру(ЗначенияЗаполнения, ДобавленныеСвойства);
	
	СтруктураПараметров.Вставить("ЗначенияЗаполнения", ЗначенияЗаполнения);
	
	Возврат СтруктураПараметров;

КонецФункции
	
#КонецОбласти

#Область СлужебныеПроцедурыИФункции

#Область УХ_Встраивание

&НаСервере
Процедура ПриСозданииНаСервереУХ(Отказ, СтандартнаяОбработка)
	
	// СтандартныеПодсистемы.ПодключаемыеКоманды
	ПараметрыРазмещения = ПодключаемыеКоманды.ПараметрыРазмещения();
	ПараметрыРазмещения.КоманднаяПанель = Элементы.ГруппаКоманднаяПанель;
	ПодключаемыеКоманды.ПриСозданииНаСервере(ЭтотОбъект, ПараметрыРазмещения);
	// Конец СтандартныеПодсистемы.ПодключаемыеКоманды	
	
КонецПроцедуры

#КонецОбласти
	
#КонецОбласти

