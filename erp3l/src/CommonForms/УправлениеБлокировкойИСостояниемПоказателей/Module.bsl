
&НаКлиенте
Процедура Ок(Команда)
	
	СтруктураОтвета=Новый Структура;
	СтруктураОтвета.Вставить("ДанныеПоказателей",Параметры.ДанныеПоказателей);
	СтруктураОтвета.Вставить("ДанныеСостояния",Новый Структура("ЗначениеЗаблокировано,ИндексСостояния",ЗначениеЗаблокировано,ИндексСостояния));
	
	Оповестить(Параметры.ИмяФормы+".ИзмененыСостоянияПоказателей",СтруктураОтвета);
	Закрыть();
		
КонецПроцедуры

&НаКлиенте
Процедура Отмена(Команда)
	
	Закрыть();
		
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ЗначениеЗаблокировано=0;
	ИндексСостояния=0;	
	
КонецПроцедуры

&НаКлиенте
Процедура ИндексСостоянияПриИзменении(Элемент)
	
	Если ИндексСостояния=3 Тогда
		
		ЗначениеЗаблокировано=2;
		Элементы.ЗначениеЗаблокировано.Доступность=Ложь;
		
	Иначе
		
		Элементы.ЗначениеЗаблокировано.Доступность=Истина;
		
	КонецЕсли; 
	
КонецПроцедуры
