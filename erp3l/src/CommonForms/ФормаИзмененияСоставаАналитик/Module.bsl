
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	
	ТЗТекущегоСостава = ПолучитьИзВременногоХранилища(Параметры.АдресТекущегоСостава);
	ТаблицаСостава.Загрузить(ТЗТекущегоСостава);
	ТекПоказатель = Параметры.ТекПоказатель;
КонецПроцедуры


&НаКлиенте
Процедура Применить(Команда)
	
	СтруктураПараметров = Новый Структура;
	АдресТекущейТаблицы  = ПолучитьАдресТекущиейТаблицы();
	СтруктураПараметров.Вставить("АдресТекущейТаблицы",АдресТекущейТаблицы);
	//СтруктураПараметров.Вставить("ВидКорректировки",ВидКорректировки);
	
	Оповестить("СТ_ИзмененСоставАналитики",СтруктураПараметров);
	Закрыть();
		
КонецПроцедуры


Функция ПолучитьАдресТекущиейТаблицы()
	
	Возврат ПоместитьВоВременноеХранилище(РеквизитФормыВЗначение("ТаблицаСостава"),Новый УникальныйИдентификатор);
	
КонецФункции	


&НаКлиенте
Процедура ТаблицаСоставаПриИзменении(Элемент)
	Элемент.ТекущиеДанные.Показатели = ТекПоказатель;
КонецПроцедуры

