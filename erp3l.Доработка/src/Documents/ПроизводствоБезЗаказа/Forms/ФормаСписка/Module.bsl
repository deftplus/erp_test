
&НаСервере
Процедура ллл_ПриСозданииНаСервереПеред(Отказ, СтандартнаяОбработка)
	
	СвойстваСписка = ОбщегоНазначения.СтруктураСвойствДинамическогоСписка();
	СвойстваСписка.ТекстЗапроса =
		"ВЫБРАТЬ
		|	ПроизводствоБезЗаказа.Ссылка,
		|	ПроизводствоБезЗаказа.ПометкаУдаления,
		|	ПроизводствоБезЗаказа.Номер,
		|	ПроизводствоБезЗаказа.Дата,
		|	 ПроизводствоБезЗаказа.ллл_Сделка,
		|	 ПроизводствоБезЗаказа.ллл_КодРС,
		|	 ПроизводствоБезЗаказа.ллл_Номер,
		|	ПроизводствоБезЗаказа.Проведен,
		|	ПроизводствоБезЗаказа.Организация,
		|	ПроизводствоБезЗаказа.Подразделение,
		|	ПроизводствоБезЗаказа.ГруппировкаЗатрат,
		|	ПроизводствоБезЗаказа.ВыпускПодДеятельность,
		|	ПроизводствоБезЗаказа.НаправлениеДеятельности,
		|	ПроизводствоБезЗаказа.ВидЦены,
		|	ПроизводствоБезЗаказа.Ответственный,
		|	ПроизводствоБезЗаказа.Комментарий,
		|	ПроизводствоБезЗаказа.ВидыЗапасовУказаныВручную,
		|	ПроизводствоБезЗаказа.Валюта,
		|	ПроизводствоБезЗаказа.ЕстьМаркируемаяПродукцияГИСМ,
		|	ПроизводствоБезЗаказа.РаспоряжениеДляТрудозатрат,
		|	ПроизводствоБезЗаказа.МаксимальныйКодСтрокиВыходныеИзделия,
		|	ПроизводствоБезЗаказа.МаксимальныйКодСтрокиТрудозатраты,
		|	ПроизводствоБезЗаказа.СпособРаспределенияЗатратНаВыходныеИзделия,
		|	ПроизводствоБезЗаказа.ВыходныеИзделия.*,
		|	ПроизводствоБезЗаказа.ВыходныеИзделияСерии.*,
		|	ПроизводствоБезЗаказа.ПобочныеИзделия.*,
		|	ПроизводствоБезЗаказа.ПобочныеИзделияСерии.*,
		|	ПроизводствоБезЗаказа.МатериалыИРаботы.*,
		|	ПроизводствоБезЗаказа.Трудозатраты.*,
		|	ПроизводствоБезЗаказа.ДополнительныеРеквизиты.*,
		|	ПроизводствоБезЗаказа.ВидыЗапасовМатериалыИРаботы.*,
		|	ПроизводствоБезЗаказа.ВидыЗапасовВыходныеИзделия.*,
		|	ПроизводствоБезЗаказа.ВидыЗапасовПобочныеИзделия.*,
		|	ПроизводствоБезЗаказа.МоментВремени,
		|	СостоянияЭД.СостояниеЭДО,
		|	СостоянияЭД.ПредставлениеСостояния,
		|	ПроизводствоБезЗаказа.Автор
		|ИЗ
		|	Документ.ПроизводствоБезЗаказа КАК ПроизводствоБезЗаказа
		|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СостоянияПоОбъектамУчетаЭДО КАК СостоянияЭД
		|		ПО (СостоянияЭД.СсылкаНаОбъект = ПроизводствоБезЗаказа.Ссылка)";
	ОбщегоНазначения.УстановитьСвойстваДинамическогоСписка(Элементы.Список, СвойстваСписка);
	
	// вывод добавленного реквизита
	ПолеВвода = Элементы.Вставить("Сделка", Тип("ПолеФормы"), Элементы.Список, Элементы.ГруппировкаЗатрат);
	ПолеВвода.Вид = ВидПоляФормы.ПолеВвода;
	ПолеВвода.ПутьКДанным = "Список.ллл_Сделка";
	
	// вывод добавленного реквизита
	ПолеВвода = Элементы.Вставить("ллл_КодРС", Тип("ПолеФормы"), Элементы.Список, Элементы.ГруппировкаЗатрат);
	ПолеВвода.Вид = ВидПоляФормы.ПолеВвода;
	ПолеВвода.ПутьКДанным = "Список.ллл_КодРС";
	
	// вывод добавленного реквизита
	ПолеВвода = Элементы.Вставить("ллл_Номер", Тип("ПолеФормы"), Элементы.Список, Элементы.ГруппировкаЗатрат);
	ПолеВвода.Вид = ВидПоляФормы.ПолеВвода;
	ПолеВвода.ПутьКДанным = "Список.ллл_Номер";
	
	// вывод реквизита
	ПолеВвода = Элементы.Вставить("Подразделение", Тип("ПолеФормы"), Элементы.Список, Элементы["Сделка"]);
	ПолеВвода.Вид = ВидПоляФормы.ПолеВвода;
	ПолеВвода.ПутьКДанным = "Список.Подразделение";
	
	// скрыть реквизит
	Элементы.ПредставлениеСостояния.Видимость=Ложь;
	Элементы.НаправлениеДеятельности.Видимость=Ложь;
	Элементы.ГруппировкаЗатрат.Видимость=Ложь;
	
КонецПроцедуры
