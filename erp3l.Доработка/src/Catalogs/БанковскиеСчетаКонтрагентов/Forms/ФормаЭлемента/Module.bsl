
&НаКлиенте
Процедура ллл_ПередЗаписьюПеред(Отказ, ПараметрыЗаписи)
	Если Объект.ВалютаДенежныхСредств=ВернутьРубли() тогда
		Если стрДлина(Объект.НомерСчета)<>20 тогда
			
			С=Новый СообщениеПОльзователю();
			С.ПутьКДанным="НомерСчета";
			С.Поле="НомерСчета";
			С.Текст="Номер счета должен состоять из 20 символов."; 
			С.УстановитьДанные(Объект.Ссылка);
			С.Сообщить();
			Отказ=истина;

			
		
			
		КонецЕсли;
		
	КонецЕсли;	
	
	Если не Отказ тогда
		Если ЗначениеЗаполнено(Объект.Банк) и значениеЗаполнено(Объект.ВалютаДенежныхСредств) и 
			значениеЗаполнено(Объект.НомерСчета) и не ЗначениеЗаполнено(Объект.Наименование) тогда	
			
			Объект.Наименование=Объект.номерСчета+ " в "+строка(Объект.Банк)+ " ("+НаименованиеВалюты(Объект.ВалютаДенежныхСредств)+")";
			
			
		КонецЕсли;
	КонецЕсли;
	

	
	
КонецПроцедуры    


&НаСервереБезКонтекста
Функция ВернутьРубли()
	возврат(ллл_ПоискЗначений.НайтиВалюту("643"));
	
КонецФункции


&НаСервереБезКонтекста
Функция НаименованиеВалюты(Валюта)
	
	возврат(Валюта.наименование);
КонецФункции	

&НаКлиенте
Процедура ллл_ПередЗаписьюПосле(Отказ, ПараметрыЗаписи)
	
КонецПроцедуры
